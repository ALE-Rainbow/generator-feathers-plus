
/* eslint quotes: 0 */
// Defines Mongoose model for service `<%= serviceName %>`. (Can be re-generated.)
const merge = require('lodash.merge')<%- sc %>
// <%- lintDisableNextLine -%> no-unused-vars
const mongoose = require('mongoose')<%- sc %>
<%- insertFragment('imports') %>
<%- insertFragment('init') %>

let moduleExports = merge({},
  <%- insertFragment('model', mongooseSchemaStr.split('\n').map(str => `  ${str}`).join('\n') + ',') %>
  <%- insertFragment('moduleExports') %>
)<%- sc %>

<%- insertFragment('exports') %>
module.exports = moduleExports<%- sc %>

<%- insertFragment('funcs') %>
<%- insertFragment('end') %>
