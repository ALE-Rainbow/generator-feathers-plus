
// Execute raw SQL statement for GraphQL. (Can be re-generated.)
const { cwd } = require('process'); // eslint-disable-line no-unused-vars
const { join } = require('path'); // eslint-disable-line no-unused-vars
<%- insertFragment('imports') %>
<%- insertFragment('init') %>

<%- insertFragment('main', [
  'let dialect, openDb, executeSql;',
  '// const sqlite = require(\'sqlite\');',
  '// dialect = \'sqlite3\';',
  '',
  '// openDb = () => {',
  '//   sqlite.open(join(cwd(), \'data\', \'sqlite3.db\'));',
  '//   return sqlite;',
  '// };',
  '',
  '// executeSql = sql => sqlite.all(sql)',
  '//   .catch(err => {',
  '//     console.log(\'executeSql error=\', err.message); // eslint-disable-line no-console',
  '//     throw err;',
  '//   });',
]) %>

let moduleExports = {
  dialect,
  executeSql,
  openDb,
  <%- insertFragment('moduleExports') %>
};

<%- insertFragment('more') %>

<%- insertFragment('exports') %>
module.exports = moduleExports;

<%- insertFragment('funcs') %>
<%- insertFragment('end') %>
